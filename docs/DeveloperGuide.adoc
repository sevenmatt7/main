= AlgoSenpai Adventures - Developer Guide
:site-section: DeveloperGuide
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: images
:stylesDir: stylesheets
:xrefstyle: full
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/AY1920S1-CS2113T-T09-3/main

By: `CS2113T-T09-3`      Since: `Sept 2019`      Licence: `MIT`

== Setting up

Refer to the guide <<SettingUp#, here>>.

== Design

[[Design-Architecture]]
=== Architecture

.Architecture Diagram
image::ArchitectureDiagram.png[]

The *_Architecture Diagram_* given above explains the high-level design of the application. Given below is a quick overview of each component.


`Main` has two classes called link:{repoURL}/src/main/java/com.algosenpai.app/Launcher.java[`Launcher`] and link:{repoURL}/src/main/java/com.algosenpai.app/MainAp.java[`MainApp`]. It is responsible for,

* At app launch: Initialising the components in the correct sequence, and connects them up with each other.
* At shut down: Shuts down the components and invokes cleanup method where necessary.

The rest of the App consists of four components.

* <<Design-Ui,*`Ui`*>>: The UI of the App.
* <<Design-Logic,*`Logic`*>>: The command executor and the question generator.
* <<Design-Model,*`Stats`*>>: Holds the relevant user statistics and settings in memory.
* <<Design-Storage,*`Storage`*>>: Reads data from, and writes data to, the hard disk.

Each of the four components

* Defines its _API_ in an `interface` with the same name as the Component.
* Exposes its functionality using a `{Component Name}Manager` class.

For example, the `Logic` component (see the class diagram given below) defines it's API in the `Logic.java` interface and exposes its functionality using the `LogicManager.java` class.

.Class Diagram of the Logic Component
image::LogicClassDiagram.png[]

[discrete]
==== How the architecture components interact with each other

The _Sequence Diagram_ below shows how the components interact with each other for the scenario where the user issues the command `help`.

.Component interactions for `help` command
image::ArchitectureSequenceDiagram.png[]

The sections below give more details of each component.

[[Design-Ui]]
=== UI component

.Structure of the UI Component
image::UiClassDiagram.png[]

*API* : link:{repoURL}/src/main/java/seedu/address/ui/Ui.java[`Ui.java`]

The UI consists of a `MainWindow` that is made up of parts e.g.`DialogBox`, `DialogBoxUser`.

The `UI` component uses JavaFx UI framework. The layout of these UI parts are defined in matching `.fxml` files that are in the `src/main/resources/view` folder. For example, the layout of the link:{repoURL}/src/main/java/seedu/address/ui/MainWindow.java[`MainWindow`] is specified in link:{repoURL}/src/main/resources/view/MainWindow.fxml[`MainWindow.fxml`]

The `UI` component,

* Executes user commands using the `Logic` component.

[[Design-Logic]]
=== Logic component

[[fig-LogicClassDiagram]]
.Structure of the Logic Component
image::LogicClassDiagram.png[]

*API* :
link:{repoURL}/src/main/java/seedu/address/logic/Logic.java[`Logic.java`]

.  `Logic` uses the `Parser` class to parse the user command.
.  This results in a `Command` object which is executed by the `Logic`.
.  The command execution will result in the `Ui` to generate a `DialogBox` on the screen.
.  The quiz is generated by the `QuizGenerator` using the `Chapter` classes in the `chapters` package.

Given below is the Sequence Diagram for interactions within the `Logic` component for the `executeCommand("help")` API call.

.Interactions Inside the Logic Component for the `help` Command
image::DeleteSequenceDiagram.png[]


[[Design-Storage]]
=== Storage component

.Structure of the Storage Component
image::StorageClassDiagram.png[]

*API* : link:{repoURL}/src/main/java/seedu/address/storage/Storage.java[`Storage.java`]

The `Storage` component,

* can save each quiz data attempted in text format and read it back.
* can save the quiz data and results in a PDF format for easy viewing.

[[Design-Statistics]]
=== Statistics component

.Structure of the Statistics Component
image::StorageClassDiagram.png[]

*API* : link:{repoURL}/src/main/java/seedu/address/storage/Storage.java[`Storage.java`]

The `Statistics` component,

* can save `UserPref` objects in text format and read it back.
* can save the quiz data in text format and read it back.
* can save all the previous user attempts of the quiz and read it back.

== Implementation

This section describes some noteworthy details on how certain features are implemented.

// tag::undoredo[]
=== [Proposed] Tutor information feature
==== Proposed Implementation

==== Design Considerations

===== Aspect:


// tag::customquestions[]
=== [Proposed] Loading of custom questions

_{Explain here how the loading of custom questions is to be implemented}_

// end::customquestions[]


[[Implementation-Configuration]]
=== Configuration

Certain properties of the application can be controlled (e.g user prefs file location, user settings) through the configuration file (default: `settings.txt`).

== Documentation

Refer to the guide <<Documentation#, here>>.

== Testing

Refer to the guide <<Testing#, here>>.


[appendix]
== Product Scope

*Target user profile*:

- Wants to improve concepts in data structures and algorithms
- Wants to become faster at answering questions
- Dislikes learning concepts theoretically
- Prefers elements of fun in their learning
- Finds VisuAlgo boring, repetitive, and tedious to use

*Value Proposition*:
Offer a more time efficient, and fun platform to learn and practice data structures and algorithms.

[appendix]
== User Stories

=== User Stories
Priorities: High (must have) - `* * \*`, Medium (nice to have) - `* \*`, Low (unlikely to have) - `*`

[width="59%",cols="22%,<23%,<25%,<30%",options="header",]
|=======================================================================
|Priority |As a ... |I want to ... |So that I can...
| * * * | New User | See a summary of the commands available in the program | Have a brief idea of how to navigate through the program
| * * * | New User | Start the game | Start learning concepts immediately
| * * * | New User | Pause the game | Pause the game and save the current quiz records
| * * * | New User | End the game | See the results for the current quiz
| * * * | New User | Go back to the previous question | Review the question and change my answer if necessary
| * * * | New User | Skip to the next question of the game | Move on to other questions that I am more confident in to avoid spending too much time on a single question
| * * * | New User | See the results of the previous games I have played | Can see a tangible improvement in my quiz scores
| * * * | Weak User | Choose to attempt the game only on a certain chapter | Work on my weaker areas
| * * * | New User | Continue the game which I have previously ended off with | Save time on trying to find out where I last ended off
| * * * | User | Have an undo button | Reverse my actions if I typed the wrong command
| * *  | User | Share and spread this game to my friends | Invite them to learn together
| * *  | Average User | Get feedback on my performance | Identify my common misconceptions and work on those areas
| * *  | User | Provide feedback to developers | Give them suggestions on what they can improve on
| * *  | User | Receive notifications and reminders to complete a few games a day | Be more consistent with my learning
| * *  | User | Experience a storyline | Learn in a less boring manner
| * *  | Weak User | Have visual aids for the questions | Understand the topic better
| * *  | Weak User | Have an explanation for any wrong answers | Learn faster from my mistakes
| * *  | Strong User | Have a time limit | Challenge myself to perform better
| * *  | Strong User | Have an arcade mode | Challenge myself to see how proficient I am in a topic
| * *  | Weak User | Have a multiple choice option rather than open-ended | Practice on my concepts before attempting harder questions
| * *  | User | Have a reset option | Replay the game if I'm done with the storyline.
| *  | Weak User | Clarify certain concepts with a virtual agent/chatbot | Build a stronger foundation
| *  | User | be challenged every time I play the game | improve incrementally as I play it more
| *  | Advanced User | Get updates whenever the program has new levels | Keep up with the game and maintain my rank
| *  | User | enjoy playing the game  | Have fun as I learn
| * * * | Tutor | Track my students’ progress | Cater my teaching style according to the weak chapters.
| *  | User | Customise my own questions `[coming in v2.0]` | Test myself on questions I know I'm weak at.
| *  | User | Choose which character to play in the game `[coming in v2.0]` | Vary the experience I have in every game
| * *  | Tutor | See which students are in dire need of help `[coming in v2.0]`| Focus more attention on weaker students
| * | Tutor | Set my own questions `[coming in v2.0]`| Test my students’ understanding on the current topic
| * | Tutor | Set my own storyline `[coming in v2.0]`| Make assignments more enjoyable.
|=======================================================================

[appendix]
== Use Cases
(For all use cases below, the System is `AlgoSenpai` and the Actor is the `Student`, unless specified otherwise)

[discrete]
==== Play through a story
. User launches the game
. System starts and displays a welcome message
. User requests for the list of available stories
. System displays the list of stories
. User chooses a story to play
. System starts displaying questions from the story
. User enters an answer
. System displays the next question
. User enters an answer
. Steps 8 - 9 repeats until the game is over
. System shows the result and returns to the main menu


[discrete]
===== Extensions
- User enters an invalid command/answer.

. System shows an error message and prompts the user to input a valid command
. User inputs a new command
. Steps 1 and 2 repeats till the user has entered a valid command


[discrete]
==== UC01: Have a summary of commands
. User enters the `menu` command
- System displays a list of commands

Use case ends.

[discrete]
==== UC02: Start quiz
. User enters the `start` command
- System displays the first question of the quiz

Use case ends.

[discrete]
==== UC03: Pause quiz
. User enters the `pause` command
- System pauses the ongoing quiz

Use case ends.

[discrete]
==== UC04: End quiz
. User enters the `end` command
- System exits user from the current quiz and shows him/her the results

Use case ends.

[discrete]
==== UC05: Revisit attempted questions
. User enters the `previous` command
- System displays the previous question

Use case ends.

[discrete]
==== UC06: Move to the next question
. User enters the `next` command
- System displays the next question

Use case ends.

[discrete]
==== UC07: View the history of the attempted quizzes
. User enters the `history` command
- System displays the results of all the quizzes attempted by the user

Use case ends.

[discrete]
==== UC08: Attempt quiz of a topic
. User enters the `chapters` command
- System displays the list of chapters
- User enters the number corresponding to the topic he/she would like to attempt
- System displays the first question of the selected chapter

Use case ends.

[discrete]
==== UC09: Resume quiz
. User enters the `resume` command
- System displays the next question from the uncompleted quiz

Use case ends.

[discrete]
==== UC10: Undo my answers
. User enters the `undo` command
- System  the previous action done by the user

Use case ends.

[discrete]
==== UC11: Share this game with my friends
. User enters the `share` command
- System displays the social media platforms for the user to choose from
- User selects one
- System displays a pop up message "This will be opened in a separate window, do you wish to continue? Y/N"
- User enters "Y" (If user accidentally entered "N", he/she will be redirected to the menu)
- User then selects the contact he/she wishes to send the invite to

Use case ends.

[discrete]
==== UC12: Get review on my performance
. User enters the `review` command
- System displays the review generated by a virtual agent

Use case ends.

[discrete]
==== UC13: Provide feedback to developers
. User enters the `feedback` command
- System displays "A separate window will be opened, do you wish to continue? Y/N"
- User enters "Y" (If the user accidentally enters "N", he/she will be redirected to the menu)
- A google form window is opened for the user to fill up

Use case ends.

[discrete]
==== UC14: Receive remainders for quizzes
. User enters the `settings` command
- System displays the settings menu
- User enters the timing(s) he/she would like to receive the reminders under the "reminder" window
- System will display a pop-up reminding the user to complete the quizzes at the specified timings

Use case ends.

[discrete]
==== UC15: Get help
. User enters the `help` command
- System displays the help menu

Use case ends.

[discrete]
==== UC16: Learn through animations
. User enters the `settings` command
- System displays the settings menu
- User clicks on for the animation section
- System turns on animations and returns to the quiz

Use case ends

[discrete]
==== UC17: View explanations for wrong answers
. User enters `help` command
- System displays the help menu
- User clicks on "explanation" and enters the question number he requires explanation for
- System displays the explanation for the selected question

Use case ends

[discrete]
==== UC18: Set time limit
. User enters `settings` command
- System displays the settings menu
- User inputs a number under the time limit section

Use case ends

[discrete]
==== UC19: Have a quest to complete
. User enters `quest` command
- System displays the list of quests available

Use case ends

[discrete]
==== UC20: Have MCQ instead of open-ended ones
. User enters `mode` command
- System displays the mode menu
- User clicks on "MCQ"

Use case ends

[discrete]
==== UC21: Have a reset option
. User enters `reset` command
- System clears all existing answers
- System displays the first question of the current quiz

Use case ends

[discrete]
==== UC22: Clarify concepts with an agent 24/7
. User enters `help` command
- System displays the help menu
- User opts for a live agent
- System starts a live chat with a live agent

Use case ends

[discrete]
==== UC23: Share my highest score with my friends
. User enters `history` command
- User enters `share` command
- System displays the social media platforms for the user to choose from
- User selects one
- System displays a pop up message "This will be opened in a separate window, do you wish to continue? Y/N"
- User enters "Y" (If user accidentally entered "N", he/she will be redirected to the menu)
- System displays a default post on the selected social media platform
- User can type his/her own caption and proceed to upload it

Use case ends

[discrete]
==== UC24: Print the quiz to pdf
. User enters `print` command
- System converts file to pdf and proceeds with the command

Use case ends

[discrete]
==== UC25: Listen to music during the quiz
. User enters `settings` command
- System displays settings menu
- User selects a playlist
- System starts to play the playlist and returns back to the menu/quiz

Use case ends

[discrete]
==== UC26: Archive difficult questions
. User enters `help` command
- System displays the help menu
- User clicks on "archive"
- System automatically archives the question the user is on

[discrete]
==== UC27: Take screenshots of the students' results
Actor: Tutor

. User enters `screenshot` command
- System automatically saves the screenshot into the user's hard disk

Use case ends

[discrete]
==== UC28: Interact with characters in the game
. User enters `interact` command
- System displays the list of users who are online
- User selects another user and a chat page pops up

Use case ends

[discrete]
==== UC29: Refer to the algorithms
. User enters `settings` command
- System displays the settings menu
- User selects "algorithm" option

Use case ends

[discrete]
==== UC30: Choose an answer verbally
. User enters `settings` command
- System displays the settings menu
- User selects "microphone" option

Use case ends

[appendix]
== Non Functional Requirements

- The application should work on any mainstream OS with Java 11 installed to run the game.
- The computer should have a minimum of 320 by 300 screen resolution for the game to display.
- The computer should have a minimum of Intel I3 dual core processors for the game to run without notable sluggish.
- The user should be able to read, understand, and write English to complete the storyline in the game.
- The computer should have minimum 4GB of RAM to load the game.
- The user should be at least 16 years of age due to mature content.


[appendix]
== Glossary

[[mainstream-os]] Mainstream OS::
Windows, Linux, Unix, OS-X


[appendix]
== Product Survey


[appendix]
== Instructions for Manual Testing

Given below are instructions to test the app manually.

[NOTE]
These instructions only provide a starting point for testers to work on; testers are expected to do more _exploratory_ testing.

=== Launch and Shutdown

. Initial launch

.. Download the jar file and copy into an empty folder
.. Double-click the jar file +
   Expected: Shows the splash screen initially and then the main window will show with the welcome message. The window should be fixed.

. Exiting the program

.. Type `exit` into the user input box.
.. Expected: Application will shut down and close itself. +


=== Playing the quiz

. Starting and playing the quiz

.. Prerequisites: The user must not be in the quiz mode yet. Start the quiz mode using the `start` command.
.. Test case: `1` +
   Expected: The quiz will consume the user input as it will identify the input as the answer to the current question
   displayed and then show the next question in the quiz.
.. Test case: `back` +
   Expected: The previous question of the current quiz will be displayed. The user can then enter the
   answer to the current question.

_{ more test cases ... }_

=== Saving data


_{ more test cases ... }_

